service AdderDiscovery {
    get_adder_info()
    @identifies a:Adder by {{ "%s:%s" % (result.host, result.port) }}

    register_adder(host, port)
    @identifies a:Adder by {{ "%s:%d" % (host, port) }}
}

service Adder {
    add(a, b)
    @precondition {{ a > 0 and b > 0 }}
    @postcondition {{ result == a + b }}
}
